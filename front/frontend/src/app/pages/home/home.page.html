<ion-content [fullscreen]="true">
  <div class="profile-card">
    <ion-header translucent>
      <ion-toolbar>
        <div class="title-and-icons">
          <div class="title">
            <ion-title>{{ title }}</ion-title>
          </div>
          <div class="filter-buttons">
            <button (click)="filterStocks('priceHighToLow')" class="filter-button">
              <ion-icon name="trending-up-outline" fill="clear"></ion-icon>
            </button>
            <button (click)="filterStocks('alphabetical')" class="filter-button">
              <ion-icon name="text-outline" fill="clear"></ion-icon>
            </button>
            <button (click)="filterStocks('favorites')" class="filter-button">
              <ion-icon name="star-outline" fill="clear"></ion-icon>
            </button>
            <button (click)="clearFilters()" class="filter-button">
              <ion-icon name="close-outline" fill="clear"></ion-icon>
            </button>
          </div>
        </div>
        <ion-buttons slot="start">
          <ion-menu-button menu="main-menu"></ion-menu-button>
        </ion-buttons>
      </ion-toolbar>
    </ion-header>

    <!-- <div class="filter-options">
      <button (click)="filterStocks('priceHighToLow')">Price (High to Low)</button>
      <button (click)="filterStocks('alphabetical')">Alphabetical</button>
      <button (click)="filterStocks('favorites')">Favorites</button>
      <button (click)="loadStockData()">Clear Filters</button>
    </div> -->

    
    <div class="product-list">
      <div *ngFor="let stock of filteredStocks" class="stock-card" [ngStyle]="{'color': stock.color}" [class.disabled]="stock.status === 'Non-Disponible'">
        <div (click)="stock.status !== 'Non-Disponible' && goToIntraday(stock.symbol)">
          <h4>{{ stock.symbol }}</h4>
          <h4>SA : {{ stock.price | currency }}</h4>
          <h4>SP : {{ stock.price | currency }}</h4>
          <h4>+B {{ stock.change | number:'1.2-2' }}%</h4>
          <h4>Qte : {{ stock.quantity }}</h4>
        </div>
        <div class="button-container">
          <h4>{{ stock.status }}</h4>
          <button (click)="buy(stock); $event.stopPropagation()" [disabled]="stock.status === 'Non-Disponible'" class="buy-button">
            <img src="../../../assets/images/buy.png" alt="Buy">
          </button>
          <button (click)="sell(stock); $event.stopPropagation()" [disabled]="stock.status === 'Non-Disponible'" class="sell-button">
            <img src="../../../assets/images/sell.png" alt="Sell">
          </button>
          <ion-icon name="star-outline" [ngClass]="{'favorite': stock.favorite}" (click)="toggleFavorite(stock); $event.stopPropagation()"></ion-icon>
          
        </div>
      </div>
    </div>
    
  </div>
</ion-content>
